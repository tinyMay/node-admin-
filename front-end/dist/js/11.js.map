{"version":3,"sources":["webpack:///./src/components/common/login.vue","webpack:///login.vue","webpack:///./src/components/common/login.vue?bcc5"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA,yBAA0H;AAC1H;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACSA;;;;UAGA;;0BACA;;;2BAGA;0BAEA;AAHA;;0EAKA;wEAGA;AAJA;AALA;AAWA;;;;;AAEA;;uCACA;oCACA;gCACA;2DACA;2BACA;mCACA;iGAEA;;uDACA;qEACA;uDACA;mDAEA;AAEA;AACA;2BACA;oGAEA;;uDACA;qEACA;uDACA;mDAEA;AAEA;AACA;AAEA;AACA;AACA;AAEA;gDACA;iCACA;AAGA;AAvCA;;gCAwCA;oCACA;8BACA;AACA;AAEA;AA7DA,E;;;;;;;ACvBA,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC,qB","file":"js/11.js","sourcesContent":["var Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-210f507d\\\",\\\"hasScoped\\\":false}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./login.vue\"),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/common/login.vue\n// module id = 181\n// module chunks = 11","<template>\n    <div class=\"login\">\n        <el-form :model=\"loginForm\" :rules=\"rules\" ref=\"loginForm\" label-width=\"100px\" class=\"login-form\">\n            <el-form-item label=\"账号\" prop=\"user_name\">\n                <el-input type=\"text\" v-model=\"loginForm.user_name\" auto-complete=\"off\"></el-input>\n            </el-form-item>\n\n            <el-form-item label=\"密码\" prop=\"pass\">\n                <el-input type=\"password\" v-model=\"loginForm.password\" auto-complete=\"off\"></el-input>\n            </el-form-item>\n\n            <el-form-item>\n                <el-button type=\"primary\" @click=\"submitForm('loginForm,1')\">提交</el-button>\n                <el-button @click=\"resetForm('loginForm')\">重置</el-button>\n                <el-button type=\"info\" @click=\"submitForm('loginForm,2')\" v-type=\"2\">注册</el-button>\n            </el-form-item>\n        </el-form>\n    </div>\n</template>\n\n<script>\n\n    export default {\n        name: 'login',\n        \n        data() {\n            return {\n                loginForm: {\n                    user_name: '',\n                    password: '',\n                },\n                rules: {\n                    user_name: [{required: true, message: '请输入用户名', trigger: 'blur'}],\n                    password: [{required: true, message: '请输入密码', trigger: 'blur'}],\n                }\n            };\n        },\n        \n        methods: {\n            submitForm(param) {\n                let paramArr = param.split(\",\");\n                let formName = paramArr[0];\n                let type = paramArr[1];\n                this.$refs[formName].validate((valid) => {\n                    if (valid) {\n                        if(type != 2) {\n                            this.func.ajaxPost(this.api.userLogin, this.loginForm, res => {\n\n                                if (res.data.code === 200) {\n                                    this.$store.commit('user', res.data.user);\n                                    this.$message.success('登陆成功');\n                                    this.$router.push('/admin');\n\n                                }\n\n                            });\n                        } else {\n                            this.func.ajaxPost(this.api.userRegister, this.loginForm, res => {\n\n                                if (res.data.code === 200) {\n                                    this.$store.commit('user', res.data.user);\n                                    this.$message.success('注册成功');\n                                    this.$router.push('/admin');\n\n                                }\n\n                            });\n                        }\n\n                    }\n                });\n            },\n            \n            resetForm(formName) {\n                this.$refs[formName].resetFields();\n            }\n        },\n\n        created () {\n            if (this.$store.state.user) {\n                this.$router.push('/admin');\n            }\n        },\n\n    }\n</script>\n\n\n// WEBPACK FOOTER //\n// login.vue?b15741e2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"login\"\n  }, [_c('el-form', {\n    ref: \"loginForm\",\n    staticClass: \"login-form\",\n    attrs: {\n      \"model\": _vm.loginForm,\n      \"rules\": _vm.rules,\n      \"label-width\": \"100px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"账号\",\n      \"prop\": \"user_name\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"text\",\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.loginForm.user_name),\n      callback: function($$v) {\n        _vm.$set(_vm.loginForm, \"user_name\", $$v)\n      },\n      expression: \"loginForm.user_name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"密码\",\n      \"prop\": \"pass\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"password\",\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.loginForm.password),\n      callback: function($$v) {\n        _vm.$set(_vm.loginForm, \"password\", $$v)\n      },\n      expression: \"loginForm.password\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.submitForm('loginForm,1')\n      }\n    }\n  }, [_vm._v(\"提交\")]), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.resetForm('loginForm')\n      }\n    }\n  }, [_vm._v(\"重置\")]), _vm._v(\" \"), _c('el-button', {\n    directives: [{\n      name: \"type\",\n      rawName: \"v-type\",\n      value: (2),\n      expression: \"2\"\n    }],\n    attrs: {\n      \"type\": \"info\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.submitForm('loginForm,2')\n      }\n    }\n  }, [_vm._v(\"注册\")])], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-210f507d\",\"hasScoped\":false}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/login.vue\n// module id = 212\n// module chunks = 11"],"sourceRoot":""}